vfs的作用就是采用标准的Unix系统调用读写位于不同物理介质上的不同文件系统，即为各类文件系统提供了一个统一的操作界面和应用编程接口，VFS是一个可以让 opne() read() write() 等系统调用不同关系底层存储介质和文件系统类型就可以工作的粘合层


linux 是一个非常优秀的操作系统，它是免费的，而且很稳定，linux所支持的文件系统高达十几个，除了为它量身打造的Ext2外，它还支持了Minix，FAT，VFAT，NFS，NTFS…等等。

所谓	VFS就是 virtual file system 虚拟文件系统，也称为虚拟文件系统开关

这里linux文件系统对外的接口，任何要使用文件系统的程序都必须经过这层接口来使用它

VFS是一个异构文件系统之上的软件粘合层，通过VFS，可以访问文件系统的系统调用提供一个统一的抽象接口


一切皆文件

linux 下一切皆文件，共有其中文件类型，输出的第一个字符代表文件类型
- 普通文件
d 目录
c 字符设备
b 块设备
s 套接字
p 管道
i 软连

不同类型的文件底层解释方式并不同，比如普通文件和套接字的读写逻辑就不一样
而相同类型的文件底层解释方式也有可能不同，比如都是普通文件
/var/log/message和/proc/1/cmdline的读写逻辑也不一样等

因为这些文件使用不同的文件系统实例来管理，如/var/log/message可能是由ext4来管理的，而/proc/1/cmdline是由procfs管理，而socket是由sockfs来管理。所以不同文件的解释权在于特定的文件系统实例。

VFS虚拟文件系统

为了支持各种各样的文件系统，linux在用户进程和文件系统实例之间引入了一个抽象层，对不同文件系统的访问都能使用相同的方法，并提供统一的文件视图

不同的文件系统底层实现上可能有很大的差异，但VFS并不关心这些，通过提供公共组件和统一框架，VFS对上层系统调用屏蔽了具体文件系统实现之间的差异，为所有文件的访问提供了相同的api，并遵循相同的调用语义

VFS 操作文件
在操作文件的时候，在用户态看到的文件描述符fd（一个整数）
应用程序（进程）使用标准库的open函数，每打开一次文件，都会分配一个新的fs，之后通过 read write close ioctl 等函数来对fs进行操作，fs 只在当前进程内有效
